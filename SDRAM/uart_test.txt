; generated by ARM C/C++ Compiler, 5.03 [Build 24]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\SDRAM\uart_test.o --asm_dir=.\SDRAM\ --list_dir=.\SDRAM\ --depend=.\SDRAM\uart_test.d --cpu=ARM920T --apcs=interwork -O0 -I..\Common\Inc -I.\INC -I.\INC\tftp -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\Samsung --omf_browse=.\SDRAM\uart_test.crf Source\uart_test.c]
                          ARM

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  uart1_test PROC
;;;19     *********************************************************************************************/
;;;20     void uart1_test(void)
000000  e92d4070          PUSH     {r4-r6,lr}
;;;21     {
000004  e24ddc01          SUB      sp,sp,#0x100
;;;22     	char cInput[256];
;;;23     	UINT8T ucInNo=0;
000008  e3a05000          MOV      r5,#0
;;;24     	UINT32T	g_nKeyPress;
;;;25     	char c;
;;;26     	uart_printf("\n UART1 Communication Test Example\n");	
00000c  e28f0090          ADR      r0,|L1.164|
000010  ebfffffe          BL       uart_printf
;;;27     	uart_printf(" Please input words, then press Enter:\n");
000014  e28f00ac          ADR      r0,|L1.200|
000018  ebfffffe          BL       uart_printf
;;;28     	uart_printf(" />");
00001c  e28f00cc          ADR      r0,|L1.240|
000020  ebfffffe          BL       uart_printf
;;;29     	uart_printf(" ");
000024  e28f00c8          ADR      r0,|L1.244|
000028  ebfffffe          BL       uart_printf
;;;30     	g_nKeyPress = 1;
00002c  e3a06001          MOV      r6,#1
;;;31     	while(g_nKeyPress==1)			// only for board test to exit
000030  ea00000e          B        |L1.112|
                  |L1.52|
;;;32     	{
;;;33     		c=uart_getch();
000034  ebfffffe          BL       uart_getch
000038  e1a04000          MOV      r4,r0
;;;34     		
;;;35     		uart_printf("%c",c);
00003c  e1a01004          MOV      r1,r4
000040  e28f00b0          ADR      r0,|L1.248|
000044  ebfffffe          BL       uart_printf
;;;36     		if(c!='\r')
000048  e354000d          CMP      r4,#0xd
00004c  0a000004          BEQ      |L1.100|
;;;37     			cInput[ucInNo++]=c;
000050  e1a00005          MOV      r0,r5
000054  e2851001          ADD      r1,r5,#1
000058  e20150ff          AND      r5,r1,#0xff
00005c  e7cd4000          STRB     r4,[sp,r0]
000060  ea000002          B        |L1.112|
                  |L1.100|
;;;38     		else
;;;39     		{
;;;40     			cInput[ucInNo]='\0';
000064  e3a00000          MOV      r0,#0
000068  e7cd0005          STRB     r0,[sp,r5]
;;;41     			break;
00006c  ea000001          B        |L1.120|
                  |L1.112|
000070  e3560001          CMP      r6,#1                 ;31
000074  0affffee          BEQ      |L1.52|
                  |L1.120|
000078  e1a00000          MOV      r0,r0
;;;42     		}
;;;43     	}
;;;44     	delay(1000);	
00007c  e3a00ffa          MOV      r0,#0x3e8
000080  ebfffffe          BL       delay
;;;45     
;;;46     	uart_printf("\n The words that you input are: %s\n",cInput);		
000084  e1a0100d          MOV      r1,sp
000088  e28f006c          ADR      r0,|L1.252|
00008c  ebfffffe          BL       uart_printf
;;;47     	uart_printf(" End.\n"); 
000090  e28f0088          ADR      r0,|L1.288|
000094  ebfffffe          BL       uart_printf
;;;48     }
000098  e28ddc01          ADD      sp,sp,#0x100
00009c  e8bd4070          POP      {r4-r6,lr}
0000a0  e12fff1e          BX       lr
                          ENDP

                  |L1.164|
0000a4  0a205541          DCB      "\n UART1 Communication Test Example\n",0
0000a8  52543120
0000ac  436f6d6d
0000b0  756e6963
0000b4  6174696f
0000b8  6e205465
0000bc  73742045
0000c0  78616d70
0000c4  6c650a00
                  |L1.200|
0000c8  20506c65          DCB      " Please input words, then press Enter:\n",0
0000cc  61736520
0000d0  696e7075
0000d4  7420776f
0000d8  7264732c
0000dc  20746865
0000e0  6e207072
0000e4  65737320
0000e8  456e7465
0000ec  723a0a00
                  |L1.240|
0000f0  202f3e00          DCB      " />",0
                  |L1.244|
0000f4  2000              DCB      " ",0
0000f6  00                DCB      0
0000f7  00                DCB      0
                  |L1.248|
0000f8  256300            DCB      "%c",0
0000fb  00                DCB      0
                  |L1.252|
0000fc  0a205468          DCB      "\n The words that you input are: %s\n",0
000100  6520776f
000104  72647320
000108  74686174
00010c  20796f75
000110  20696e70
000114  75742061
000118  72653a20
00011c  25730a00
                  |L1.288|
000120  20456e64          DCB      " End.\n",0
000124  2e0a00  
000127  00                DCB      0
